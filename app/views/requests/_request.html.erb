<div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="ModalLabel">Would like to Borrow <%=@item.name %>?</h4>
      </div>
     <%= form_for [@item,@request], html: {id: 'new_request1'}, remote: true do |f| %>
     <% if @request.errors.any? %>
      <div class="alert alert-danger">
      <h4>There are <%= pluralize(@request.errors.count, "error") %>.</h4>
      <ul>
        <% @request.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
      </div>
    <% end %>
       <div class="modal-body">
           <div class="form-group">
            <%= f.label :requesting_at, "When?", class: "control-label" %>
            <div class="input-append date" data-date-format="mm-dd-yyyy" >
                 <%= f.text_field :requesting_at, class: "datepicker", id: "datepicker1" %>
                  <span class="add-on"><i class="icon-th"></i></span>
            </div>
          </div>
          <div class="form-group">
            <%= f.label :returning_at, "How long?", class: "control-label" %>
            <div class="input-append date" data-date-format="mm-dd-yyyy" >
                 <%= f.text_field :returning_at,  class: "datepicker", id: "datepicker2" %>
                  <span class="add-on"><i class="icon-th"></i></span>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :description, "Request Message?", class: "control-label" %>
           <%= f.text_area :description, placeholder: "Be sure to give detailed information", class: "form-control" %>
          </div>
      </div>
       <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <%= f.submit "I need one!", class: "btn btn-primary", id:"requestSubmit" %>
       </div>
       <%end %>    
    </div>
  </div>
  <script type="text/javascript">
     $(document).ready(function () {
        $('.datepicker').datepicker({     
            todayHighlight: true,
            todayBtn: true,
           format: 'mm/dd/yyyy',
            autoclose: true
          });
            
     $('#datepicker1').on('change', function() {
         $('#datepicker1').val();
      });
   
      $('#datepicker2').on('change', function() {
         $('#datepicker2').val();
      });
   
    });     
</script>

<script type="text/javascript">
     $(function () {
        $('#datepicker2').datepicker({     
            todayHighlight: true,
            todayBtn: true,
           format: 'mm/dd/yyyy',
            autoclose: true
          });
            
      $('#datepicker2').on('change', function() {
         $('#datepicker2').val();
      });
   
    });     
</script>


<script type="text/javascript">
      $(function() { 

         //$('body').on('hidden.bs.modal', '.modal', function () {
         // $(this).removeData('bs.modal');
         // });
        $('#requestSubmit').click( function() { $("#modal-window").modal("hide"); } );

       });     
</script>

 